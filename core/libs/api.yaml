# base_types

kind: struct
name: Size
props:
    - name: width
      type: float
    - name: height
      type: float

---

kind: struct
name: Color
props:
    - name: red
      type: int
    - name: blue
      type: int
    - name: green
      type: int
    - name: alpha
      type: int

---

kind: class
name: Connection
methods:
    - name: disconnect

# events

kind: enum
name: PointerTool
values:
    - mouse
    - touch
    - other

---

kind: enum
name: PointerAction
values:
    - pointer_up
    - pointer_down
    - pointer_move
    - button_press
    - button_release
    - scroll

---

kind: struct
name: PointerEvent
props:
    - name: timestamp
      type: int
    - name: pointerId
      type: int
    - name: tool
      type: PointerTool
    - name: action
      type: PointerAction

kind: struct
name: ScrollEvent
props:
    - name: left
      type: float
    - name: top
      type: float

# document

kind: callback
name: ElementSizeObserver
args:
    - name: size
      type: Size

kind: callback
name: ScrollEventHandler
args:
    - name: event
      type: ScrollEvent

kind: class
name: Document
props:
    - name: root
      type: Element
methods:
    - name: observeElementSize
      return: Connection
      args:
        - name: element
          type: Element
        - name: observer
          type: ElementSizeObserver
    - name: addScrollEventHandler
      args:
        - name: handler
          type: ScrollEventHandler

# Elements

kind: class
name: BackgroundElement
extends: Element
constructor:
    - name: color
      type: Color

kind: class
name: CenterElement
extends: Element
constructor: default

kind: class
name: PlaceholderElement
extends: Element
constructor: default

